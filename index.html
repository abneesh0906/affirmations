<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Affirmations</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      background: linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%);
      color: #333;
      text-align: center;
    }
    h1 {
      margin-bottom: 20px;
    }
    #affirmation {
      font-size: 1.5rem;
      font-weight: bold;
      margin: 20px;
      padding: 20px;
      border-radius: 12px;
      background: white;
      max-width: 500px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    button {
      margin: 10px;
      padding: 12px 20px;
      font-size: 1rem;
      border: none;
      border-radius: 8px;
      background: #6a11cb;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #2575fc;
    }
  </style>
</head>
<body>
  <h1>âœ¨ Daily Affirmation Generator âœ¨</h1>
  <div id="affirmation">Click the button to see your affirmation!</div>
  
  <div class="buttons">
    <button onclick="newAffirmation()">Generate âœ¨</button>
    <button onclick="copyAffirmation()">Copy ðŸ“‹</button>
    <button onclick="downloadAffirmation()">Download ðŸ“¥</button>
  </div>

  <!-- Canvas used for creating images -->
  <canvas id="canvas" style="display:none;"></canvas>

  <script>
    const affirmations = [
      "I am confident and capable.",
      "I attract positivity into my life.",
      "I am worthy of love and success.",
      "I choose happiness every day.",
      "I believe in my dreams and goals.",
      "I am grateful for this moment.",
      "I radiate peace and kindness.",
      "I trust the journey of my life.",
      "I am becoming the best version of myself."
    ];

    function newAffirmation() {
      const randomIndex = Math.floor(Math.random() * affirmations.length);
      document.getElementById("affirmation").innerText = affirmations[randomIndex];
    }

    function copyAffirmation() {
      const text = document.getElementById("affirmation").innerText;
      navigator.clipboard.writeText(text).then(() => {
        alert("Affirmation copied to clipboard! âœ…");
      });
    }

    function downloadAffirmation() {
      const text = document.getElementById("affirmation").innerText;
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");

      canvas.width = 600;
      canvas.height = 300;

      // Background
      const gradient = ctx.createLinearGradient(0, 0, 600, 300);
      gradient.addColorStop(0, "#a18cd1");
      gradient.addColorStop(1, "#fbc2eb");
      ctx.fillStyle = gradient;
      ctx.fillRect(0, 0, canvas.width, canvas.height);

      // Text
      ctx.fillStyle = "white";
      ctx.font = "20px Arial";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      wrapText(ctx, text, canvas.width/2, canvas.height/2, 500, 30);

      const link = document.createElement("a");
      link.download = "affirmation.png";
      link.href = canvas.toDataURL();
      link.click();
    }

    // Helper function to wrap text
    function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
      const words = text.split(" ");
      let line = "";
      let lines = [];
      for (let n = 0; n < words.length; n++) {
        const testLine = line + words[n] + " ";
        const metrics = ctx.measureText(testLine);
        const testWidth = metrics.width;
        if (testWidth > maxWidth && n > 0) {
          lines.push(line);
          line = words[n] + " ";
        } else {
          line = testLine;
        }
      }
      lines.push(line);
      const totalHeight = lines.length * lineHeight;
      let offsetY = y - totalHeight / 2;
      lines.forEach((l, i) => {
        ctx.fillText(l, x, offsetY + (i * lineHeight));
      });
    }
  </script>
</body>
</html>
